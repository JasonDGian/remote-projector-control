<div align="center">
  <table border="1" cellpadding="10" cellspacing="0">
    <tr>
      <td colspan="9" align="center"><strong>üìö Navegaci√≥n del Proyecto</strong></td>
    </tr>
    <tr>
      <td align="center"><a href="../../../../README.md">üè†<br><strong>Inicio</strong></a></td>
      <td align="center"><a href="./acerca-del-proyecto.md">‚ÑπÔ∏è<br><strong>Acerca de</strong></a></td>
      <td align="center"><a href="./arquitectura-y-flujo.md">üõ†Ô∏è<br><strong>Arquitectura</strong></a></td>
      <td align="center"><a href="./esquema-y-tablas.md">üõ¢Ô∏è<br><strong>Esquema BBDD</strong></a></td>
      <td align="center"><a href="./interfaz-grafica-y-roles.md">üé®<br><strong>Interfaz</strong></a></td>
      <!-- <td align="center"><a href="./api-rest.md">üì°<br><strong>API REST</strong></a></td> -->
      <td align="center"><a href="./hardware-especial.md">üß∞<br><strong>Hardware</strong></a></td>
      <td align="center"><a href="./codificacion.md">üìü<br><strong>Codificaci√≥n</strong></a></td>
      <td align="center"><a href="./instrucciones-de-uso.md">üìÑ<br><strong>Instrucciones</strong></a></td>
    </tr>
  </table>

</div>


<a name="api-rest"></a>   
# üì° Documentaci√≥n API REST - Gesti√≥n Remota de Proyectores
Esta secci√≥n describe los endpoints disponibles del servidor backend desarrollado en Spring Boot para la gesti√≥n remota de proyectores.
   
---
   
<a name="ProjectorRemoteAgentController"></a>   
## 1. ProjectorRemoteAgentController
Endpoints exclusivos para los agentes remotos (ESP32).
   
### üîµ `GET /projectors/server-events`
- **Descripci√≥n**: Devuelve la acci√≥n a ejecutar por un proyector.
- **Par√°metros requeridos**:
  - `aula` (string): Identificador del aula.
  - `estado` (string): Estado del proyector en el momento de realizar la petici√≥n.
- **Acceso**: Cliente Proyector
- **Respuestas**:
  - `200 OK`: Acci√≥n encontrada
  - `204 No Content`: Sin acci√≥n
  - `404 Not Found`: Proyector no registrado
  - `500 Internal Server Error`: Error interno
   
---
   
### üü° `PUT /projectors/server-events`
- **Descripci√≥n**: Actualiza el estado de un evento.
- **Par√°metros requeridos**:
  - `eventId` (string): Id del evento a actualizar.
  - `classroom` (string): Aula en la que se encuentra el proyector.
  - `rarc` (string): Remote Agent Response Code - Codigo que el proyector proporciona al Agente Remoto.
- **Acceso**: Cliente Proyector
- **Respuestas**:
  - `200 OK`: √âxito
  - `404 Not Found`: Evento no encontrado
  - `500 Internal Server Error`: Error interno
 
### üîµ `GET /projectors/config-params`
- **Descripci√≥n**: Permite recuperar parametros de configuraci√≥n en modo dinamico y adaptable en futuro a las necesidades del agente remoto o proyector.
- **Par√°metros requeridos**:
  - `projectorClassroom` (string): Aula en la que se encuentra el proyector.
- **Acceso**: Cliente Proyector
- **Respuestas**:
  - `200 OK`: √âxito
  - `404 Not Found`: Evento no encontrado
  - `500 Internal Server Error`: Error interno

---

<a name="ProjectorCommonsController"></a>   
## 2. ProjectorCommonsController

Endpoints compartidos por administradores y usuarios.

### üü¢ `POST /projectors/server-events`
- **Descripci√≥n**: Obtiene eventos del servidor filtrados.
- **Cuerpo**: `EventFilterObject`
- **Respuestas**: `200 OK`

#### üî∏ EventFilterObject

Objeto de transferencia de datos (DTO) utilizado para filtrar eventos del servidor. Representa el conjunto de criterios por los cuales los eventos pueden ser ordenados o filtrados en la p√°gina.

| Campo         | Tipo           | Descripci√≥n                             |
|---------------|----------------|---------------------------------------|
| eventId       | Long           | ID √∫nico del evento (por ejemplo, "1"). |
| actionName    | String         | Acci√≥n que debe realizar el evento.    |
| modelName     | String         | Modelo del proyector involucrado.      |
| classroomName | String         | Aula donde ocurre el evento.            |
| floorName     | String         | Piso donde ocurre el evento.            |
| user          | String         | Usuario que origin√≥ el evento.          |
| dateTime      | LocalDateTime  | Fecha y hora de creaci√≥n del evento.   |
| actionStatus  | String         | Estado del evento.                      |

---

### üü¢ `POST /projectors/server-events-batch`
- **Descripci√≥n**: Crea m√∫ltiples eventos.
- **Cuerpo**: `ServerEventBatchDto`
- **Respuestas**:
  - `201 Created`
  - `400 Bad Request`
  - `500 Internal Server Error`

#### üî∏ ServerEventBatchDto

Objeto de transferencia de datos (DTO) utilizado para crear un evento en el servidor para una acci√≥n sobre una lista dada de proyectores. Simplifica la solicitud y el proceso de creaci√≥n del evento en el servidor.

| Campo         | Tipo                | Descripci√≥n                                           |
|---------------|---------------------|-------------------------------------------------------|
| action        | String              | Acci√≥n que se realizar√°. Se refiere a la instrucci√≥n espec√≠fica para cada proyector. |
| projectorList | List<ProjectorDto>   | Lista de proyectores a los que se enviar√° la acci√≥n. |

---

### üîµ `GET /projectors/projector-models`
- **Descripci√≥n**: Lista todos los modelos de proyectores.
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üîµ `GET /projectors/floors`
- **Descripci√≥n**: Lista todas las plantas.
- **Respuestas**:
  - `200 OK`
  - `204 No Content`
  - `500 Internal Server Error`

---

### üîµ `GET /projectors/event-states`
- **Descripci√≥n**: Devuelve todos los estados posibles de un evento.
- **Respuestas**: `200 OK`

---

### üîµ `GET /projectors/classrooms`
- **Descripci√≥n**: Lista aulas de una planta espec√≠fica.
- **Par√°metros**: `floor` (string)
- **Respuestas**:
  - `200 OK`
  - `204 No Content`
  - `500 Internal Server Error`

---

### üîµ `GET /projectors/actions`
- **Descripci√≥n**: Lista las acciones disponibles.
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

<a name="ProjectorAdminController"></a>   
## 3. ProjectorAdminController

Endpoints exclusivos para el rol administrador.

### üü¢ `POST /projectors/parse-multifile`
- **Descripci√≥n**: Carga archivos CSV con comandos y proyectores.// Llama la activity.
startActivity(intent)
- **Par√°metros**: `projectorsFile`, `commandsFile` (multipart/form-data)
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üü¢ `POST /projectors/commands-page`
- **Descripci√≥n**: Lista comandos con filtros opcionales.
- **Par√°metros**:
  - `modelName` (opcional)
  - `action` (opcional)
- **Respuestas**:
  - `200 OK`
  - `400 Bad Request`
  - `500 Internal Server Error`

---

### üü¢ `POST /projectors/actions-page`
- **Descripci√≥n**: Devuelve acciones paginadas.
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üîµ `GET /projectors/projectors`
- **Descripci√≥n**: Lista proyectores paginados y filtrados.
- **Par√°metros**:
  - `criteria`, `classroom`, `floor`, `model` (opcional)
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üî¥ `DELETE /projectors/projectors`
- **Descripci√≥n**: Elimina proyectores seleccionados.
- **Cuerpo**: Lista de `ProjectorInfoDto`
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

#### üî∏ProjectorInfoDto

Objeto de transferencia de datos (DTO) que representa informaci√≥n de un proyector. Proporciona una representaci√≥n simplificada de la entidad proyector y sus detalles asociados. Usado para devolver resultados paginados.

| Campo     | Tipo   | Descripci√≥n                              |
|-----------|--------|------------------------------------------|
| model     | String | Modelo del proyector.                    |
| classroom | String | Aula donde se encuentra el proyector.   |
| floorname | String | Nombre del piso donde est√° ubicado el proyector. |

---

### üîµ `GET /projectors/general-overview`
- **Descripci√≥n**: Devuelve conteo general registros del sistema.
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üîµ `GET /projectors/events-overview`
- **Descripci√≥n**: Devuelve estad√≠sticas generales de eventos.
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üî¥ `DELETE /projectors/actions`
- **Descripci√≥n**: Elimina acciones en lote.
- **Cuerpo**: Lista de `ActionDto`
- **Respuestas**:
  - `200 OK`
  - `400 Bad Request`
  - `500 Internal Server Error`

#### üî∏ ActionDto

Objeto de transferencia de datos (DTO) que representa una acci√≥n. Proporciona una representaci√≥n simplificada de la entidad Action para su uso en el frontend.

| Campo      | Tipo   | Descripci√≥n                  |
|------------|--------|------------------------------|
| actionName | String | Nombre de la acci√≥n.          |

---

### üî¥ `DELETE /projectors/projectors-all`
- **Descripci√≥n**: Elimina todos los proyectores registrados.
- **Respuestas**:
  - `200 OK`
  - `500 Internal Server Error`

---

### üî¥ `DELETE /projectors/commands`
- **Descripci√≥n**: Elimina comandos espec√≠ficos junto a sus eventos.
- **Cuerpo**: Lista de `CommandDto`
- **Respuestas**:
  - `200 OK`
  - `400 Bad Request`
  - `500 Internal Server Error`

#### üî∏ CommandDto

Objeto de transferencia de datos (DTO) que representa un comando. Proporciona una representaci√≥n simplificada de la entidad comando para su uso en el frontend.

| Campo      | Tipo   | Descripci√≥n                                               |
|------------|--------|-----------------------------------------------------------|
| modelName  | String | Nombre del modelo del proyector al que pertenece el comando. |
| action     | String | Acci√≥n que realizar√° el comando.                           |
| command    | String | Instrucci√≥n literal, como un array de bytes o secuencia binaria. |

    
--- 
   
<div align="center">
  <table border="1" cellpadding="10" cellspacing="0">
    <tr>
      <td colspan="9" align="center"><strong>üìö Navegaci√≥n del Proyecto</strong></td>
    </tr>
    <tr>
      <td align="center"><a href="../../../../README.md">üè†<br><strong>Inicio</strong></a></td>
      <td align="center"><a href="./acerca-del-proyecto.md">‚ÑπÔ∏è<br><strong>Acerca de</strong></a></td>
      <td align="center"><a href="./arquitectura-y-flujo.md">üõ†Ô∏è<br><strong>Arquitectura</strong></a></td>
      <td align="center"><a href="./esquema-y-tablas.md">üõ¢Ô∏è<br><strong>Esquema BBDD</strong></a></td>
      <td align="center"><a href="./interfaz-grafica-y-roles.md">üé®<br><strong>Interfaz</strong></a></td>
      <!-- <td align="center"><a href="./api-rest.md">üì°<br><strong>API REST</strong></a></td> -->
      <td align="center"><a href="./hardware-especial.md">üß∞<br><strong>Hardware</strong></a></td>
      <td align="center"><a href="./codificacion.md">üìü<br><strong>Codificaci√≥n</strong></a></td>
      <td align="center"><a href="./instrucciones-de-uso.md">üìÑ<br><strong>Instrucciones</strong></a></td>
    </tr>
  </table>

</div>

